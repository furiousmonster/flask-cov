<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>疫情监控</title>
    <script src="../static/js/jquery-1.11.1.min.js"></script>
    <link href="../static/css/main.css" rel="stylesheet">
    <style>

    </style>
</head>
<body>
    <div id="title">全国疫情实时追踪</div>
    <div id="tim">我是时间</div>
    <div id="l1">我是左1</div>
    <div id="l2">我是左2</div>
    <div id="c1">
        <div class="num"><h1>123</h1></div>
        <div class="num"><h1>123</h1></div>
        <div class="num"><h1>123</h1></div>
        <div class="num"><h1>123</h1></div>
        <div class="txt"><h1>累计确诊</h1></div>
        <div class="txt"><h1>剩余疑似</h1></div>
        <div class="txt"><h1>累计治愈</h1></div>
        <div class="txt"><h1>累计死亡</h1></div>
    </div>
    <div id="c2">我是中2</div>
    <div id="r1">我是右1</div>
    <div id="r2">我是右2</div>
    <script>
        function gettime() {
            $.ajax({
                url: "/time",
                timeout: 10000, //超时时间设置为10秒；
                success: function(data) {
                    $("#tim").html(data)
                },
                error: function(xhr, type, errorThrown) {

                }
            });
        }

        function get_c1_data() {
            $.ajax({
                url: "/c1",
                success: function(data) {
                    $(".num h1").eq(0).text(data.confirm);
                    $(".num h1").eq(1).text(data.suspect);
                    $(".num h1").eq(2).text(data.heal);
                    $(".num h1").eq(3).text(data.dead);
                },
                error: function(xhr, type, errorThrown) {

                }
            })
        }

        setInterval(gettime, 1000)
        setInterval(get_c1_data, 1000)

    </script>
</body>
</html>
